@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --radius: 0.5rem;
}

/* Rich layered backgrounds */
.bg-layer-1 { background: linear-gradient(145deg, var(--color-card) 0%, var(--color-elevation-2) 100%); }
.bg-layer-2 { background: radial-gradient(circle at 30% 20%, rgba(124,58,237,0.15), transparent 70%), linear-gradient(160deg, var(--color-elevation-1) 0%, var(--color-elevation-3) 100%); }

/* Skeleton loaders */
.skeleton { position: relative; overflow:hidden; border-radius:6px; background:linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.08) 37%, rgba(255,255,255,0.05) 63%); background-size:400% 100%; animation:skeleton-shimmer 1.1s linear infinite; }
@keyframes skeleton-shimmer { 0%{ background-position:0 0 } 100% { background-position:-200% 0 } }

/* Sortable headers */
.th-sortable { cursor:pointer; user-select:none; position:relative; padding-right:1.25rem; }
.th-sortable::after { content:""; position:absolute; top:50%; right:0.35rem; width:6px; height:6px; margin-top:-7px; border-right:2px solid var(--color-muted-foreground); border-bottom:2px solid var(--color-muted-foreground); transform:rotate(45deg); opacity:0.35; transition:opacity .25s, transform .25s; }
.th-sortable[data-dir='desc']::after { transform:rotate(225deg); }
.th-sortable:hover::after { opacity:0.9; }
.th-sortable[data-active='true']::after { opacity:1; }

.tabular-nums { font-variant-numeric: tabular-nums; }

/* Compact table styling */
.compact-table table { font-size:12px; }
.compact-table thead th { padding-top:4px; padding-bottom:4px; }
.compact-table tbody td { padding-top:3px; padding-bottom:3px; }
.compact-table tbody tr:hover { background: rgba(255,255,255,0.04); }
.compact-gap section > .space-y-6 { row-gap:1rem; }

body { font-feature-settings: "rlig" 1, "calt" 1; }

/* Theme Variant A (default) - neutral slate */
/* Unified Modern Dark Theme */
:root {
  --color-background: #090d14; /* deep neutral */
  --color-foreground: #e5ecf4;
  --color-primary: #5b7bff; /* soft indigo */
  --color-primary-foreground: #f5f8ff;
  --color-secondary: #111a27;
  --color-secondary-foreground: #d1dae4;
  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffe2e2;
  --color-muted: #142231;
  --color-muted-foreground: #8fa2b7;
  --color-accent: #1b2d44;
  --color-accent-foreground: #e5ecf4;
  --color-popover: #111a27;
  --color-popover-foreground: #e5ecf4;
  --color-card: #111a27;
  --color-card-foreground: #e5ecf4;
  --color-border: #22374d;
  --color-input: #22374d;
  --color-ring: #5b7bff;
  --color-elevation-1: #132030;
  --color-elevation-2: #182a3b;
  --color-elevation-3: #1d3347;
}

body {
  background:
    radial-gradient(circle at 20% 20%, rgba(91,123,255,0.15), transparent 60%),
    radial-gradient(circle at 80% 70%, rgba(16,185,129,0.08), transparent 55%),
    linear-gradient(160deg, #0a111b 0%, #0e1825 60%, #101b29 100%);
  color: hsl(var(--foreground));
}

@layer utilities {
  .glass {
    background: var(--color-card); /* simplified for compatibility */
    backdrop-filter: blur(16px);
    border: 1px solid var(--color-border);
    box-shadow: 0 4px 16px -4px rgba(0,0,0,0.4);
  }
  .card-modern {
    position: relative;
    overflow: hidden;
  }
  .card-modern:before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(140deg, rgba(99,102,241,0.25), rgba(236,72,153,0.15), rgba(16,185,129,0.15));
    opacity: 0.4;
    pointer-events: none;
  }
  .card-modern:after {
    content: "";
    position: absolute;
    inset: 0;
    border: 1px solid rgba(255,255,255,0.06);
    mask: linear-gradient(#000,#000) content-box, linear-gradient(#000,#000);
    -webkit-mask: linear-gradient(#000,#000) content-box, linear-gradient(#000,#000);
    mask-composite: exclude;
    -webkit-mask-composite: xor;
    padding: 1px;
    pointer-events: none;
  }
  .section-title {
    font-size: 1.25rem;
    font-weight: 600;
    letter-spacing: -0.01em;
    color: var(--color-foreground);
  }
  .stat-accent { transition: color .3s ease; }
  .stat-accent:hover { color: var(--color-primary); }
  .btn-modern {
    position: relative; display:inline-flex; align-items:center; gap:0.25rem; padding:0.4rem 0.75rem; font-size:0.7rem; font-weight:500; border-radius:0.5rem; color:#fff; background:linear-gradient(120deg,var(--color-primary),#5b21b6 60%,#0d9488); box-shadow:0 4px 12px -2px rgba(0,0,0,0.4); transition:filter .3s ease,background .3s ease;
  }
  .btn-modern:hover { filter:brightness(1.1); }
  .pill-soft { backdrop-filter:blur(6px); padding:0.25rem 0.5rem; border-radius:999px; font-size:11px; font-weight:500; border:1px solid var(--color-border); background:rgba(255,255,255,0.04); box-shadow:0 1px 2px rgba(0,0,0,0.4); }
  .grid-auto-fit {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
    gap: 1rem;
  }
}
